(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-460e1c1e"],{2532:function(t,e,s){"use strict";var a=s("23e7"),r=s("5a34"),i=s("1d80"),o=s("ab13");a({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(i(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},3292:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-9 left-col"},[s("div",{staticClass:"panel panel-default padding-md"},[s("div",{staticClass:"panel-body"},[t._m(0),s("hr"),s("div",{staticClass:"form-horizontal",attrs:{"data-validator-form":""}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v("用户名")]),s("div",{staticClass:"col-sm-6"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.username,expression:"username",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator:input.required",value:{title:"用户名",regex:/^[a-zA-Z]+\w*\s?\w*$/,error:"用户名要求以字母开头的单词字符"},expression:"{ title: '用户名', regex: /^[a-zA-Z]+\\w*\\s?\\w*$/, error: '用户名要求以字母开头的单词字符' }",arg:"input",modifiers:{required:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v("性别")]),s("div",{staticClass:"col-sm-6"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.sex,expression:"sex"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sex=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("未选择")]),s("option",{attrs:{value:"male"}},[t._v("男")]),s("option",{attrs:{value:"female"}},[t._v("女")])])])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v("填写兴趣")]),s("div",{staticClass:"col-sm-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.hobby,expression:"hobby"}],staticClass:"form-control",attrs:{placeholder:"点击回车增加兴趣",type:"text"},domProps:{value:t.hobby},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addInterest(t.hobby)},input:function(e){e.target.composing||(t.hobby=e.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v("兴趣")]),s("div",{staticClass:"col-sm-6"},[s("ul",t._l(t.hobbies,(function(e){return s("li",{key:e,staticClass:"tag-style",attrs:{title:"点击移除兴趣："+e},on:{click:function(s){return t.removeInterest(e)}}},[s("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[t._v(t._s(e))])])})),0)])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label"},[t._v("个人简介")]),s("div",{staticClass:"col-sm-6"},[s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.introduction,expression:"introduction",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.introduction},on:{input:function(e){e.target.composing||(t.introduction=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-sm-offset-2 col-sm-6"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:t.updateProfile}},[t._v("应用修改")])])])])])])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",[s("i",{staticClass:"fa fa-cog"}),t._v(" 编辑个人资料 ")])}],i=(s("caad"),s("a434"),s("b0c0"),s("d3b7"),s("ac1f"),s("2532"),s("5319"),s("ddb0"),s("b85c")),o=s("53ca"),n={name:"EditProfile",data:function(){return{username:"",sex:"",hobby:"",hobbies:[],introduction:""}},created:function(){var t=this.$store.state.user;if(t&&"object"===Object(o["a"])(t)){var e=t.name,s=t.sex,a=t.hobbies,r=t.introduction;this.username=e,this.sex=s||this.sex,this.hobbies=a||this.hobbies,this.introduction=r}},methods:{updateProfile:function(t){var e=this;setTimeout((function(){t.target.canSubmit&&(e.$store.dispatch("updateUser",{name:e.username,sex:e.sex,hobbies:e.hobbies,introduction:e.introduction}),e.$message.show("修改成功"))}))},addInterest:function(t){this.hobby="",t=t.replace(/[\s#]+/g,""),this.hobbies.includes(t)?alert("已有该兴趣"):t&&this.hobbies.push(t)},removeInterest:function(t){var e,s=Object(i["a"])(this.hobbies.keys());try{for(s.s();!(e=s.n()).done;){var a=e.value;if(this.hobbies[a]===t){this.hobbies.splice(a,1);break}}}catch(r){s.e(r)}finally{s.f()}}}},l=n,c=(s("9eae"),s("2877")),u=Object(c["a"])(l,a,r,!1,null,"b73ab0ac",null);e["default"]=u.exports},"5a2c":function(t,e,s){},"5a34":function(t,e,s){var a=s("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"9eae":function(t,e,s){"use strict";var a=s("5a2c"),r=s.n(a);r.a},ab13:function(t,e,s){var a=s("b622"),r=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(s){try{return e[r]=!1,"/./"[t](e)}catch(a){}}return!1}},caad:function(t,e,s){"use strict";var a=s("23e7"),r=s("4d64").includes,i=s("44d2"),o=s("ae40"),n=o("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!n},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")}}]);
//# sourceMappingURL=chunk-460e1c1e.6580cc7f.js.map